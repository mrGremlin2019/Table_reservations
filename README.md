# ü™ë Restaurant Table Reservation API

REST API-—Å–µ—Ä–≤–∏—Å –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–æ–ª–∏–∫–æ–≤ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ. –ü–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Å—Ç–æ–ª–∏–∫–∞–º–∏, —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å —É—á–µ—Ç–æ–º –≤—Ä–µ–º–µ–Ω–∏ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏.

---

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### üìå –°—Ç–æ–ª–∏–∫–∏ (`/tables`)
- `GET /tables/` ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Ç–æ–ª–∏–∫–æ–≤
- `POST /tables/` ‚Äî —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å—Ç–æ–ª–∏–∫
- `DELETE /tables/{id}` ‚Äî —É–¥–∞–ª–∏—Ç—å —Å—Ç–æ–ª–∏–∫ –ø–æ ID

### üìå –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (`/reservations`)
- `GET /reservations/` ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±—Ä–æ–Ω–µ–π
- `POST /reservations/` ‚Äî —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –±—Ä–æ–Ω—å
- `DELETE /reservations/{id}` ‚Äî —É–¥–∞–ª–∏—Ç—å –±—Ä–æ–Ω—å –ø–æ ID

> ‚ùó –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏: –Ω–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω—å –Ω–∞ —Å—Ç–æ–ª–∏–∫, –µ—Å–ª–∏ –æ–Ω —É–∂–µ –∑–∞–Ω—è—Ç –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ –≤—Ä–µ–º–µ–Ω–∏.

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **FastAPI** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **PostgreSQL** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **SQLAlchemy** ‚Äî ORM
- **Alembic** ‚Äî –º–∏–≥—Ä–∞—Ü–∏–∏
- **Docker + Docker Compose** ‚Äî –∏–∑–æ–ª—è—Ü–∏—è –∏ —É–¥–æ–±–Ω—ã–π –∑–∞–ø—É—Å–∫
- **Pytest** ‚Äî —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **.env/.test.env** ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
     table_reservations/ 
         ‚îú‚îÄ‚îÄ src/ ‚îÇ 
         ‚îú‚îÄ‚îÄ alembic/ # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î 
         ‚îÇ ‚îú‚îÄ‚îÄ db/ # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ, –º–æ–¥–µ–ª–∏, CRUD 
         ‚îÇ ‚îú‚îÄ‚îÄ routers/ # –ú–∞—Ä—à—Ä—É—Ç—ã API 
         ‚îÇ ‚îú‚îÄ‚îÄ schemas/ # Pydantic-—Å—Ö–µ–º—ã 
         ‚îÇ ‚îú‚îÄ‚îÄ tests/ # –¢–µ—Å—Ç—ã 
         ‚îÇ ‚îî‚îÄ‚îÄ main.py # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ 
         ‚îú‚îÄ‚îÄ docker-compose.yml 
         ‚îú‚îÄ‚îÄ Dockerfile 
         ‚îú‚îÄ‚îÄ .env # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è dev 
         ‚îú‚îÄ‚îÄ .test.env # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–æ–≤ 
         ‚îî‚îÄ‚îÄ requirements.txt
```

---

## üê≥ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –∏ .test.env (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —à–∞–±–ª–æ–Ω—ã, –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω—ã–µ –Ω–∏–∂–µ)

```.env:```
```ini
    –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
    –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
    MODE=dev
    POSTGRES_USER=user1
    POSTGRES_PASSWORD=qwerty
    POSTGRES_HOST=postgres
    POSTGRES_PORT=5432
    POSTGRES_DB=table_reservations
```

```.test.env:```
```ini
    MODE=TEST
    POSTGRES_USER=test_user1
    POSTGRES_PASSWORD=qwerty
    POSTGRES_HOST=postgres
    POSTGRES_PORT=5432
    POSTGRES_DB=test_table_reservations
```
> ‚ùó –ü–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º –∑–∞–ø—É—Å–∫–æ–º —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é —Å–æ–∑–¥–∞—Ç—å –æ–±–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (table_reservations –∏ test_table_reservations) –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º PostgreSQL.


–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:

```bash
    docker compose up --build
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤:

```bash
    docker compose exec web pytest tests/ -v
```

–¢–µ—Å—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç ```.test.env```, –≤ –∫–æ—Ç–æ—Ä–æ–º —É–∫–∞–∑–∞–Ω—ã —Ç–µ—Å—Ç–æ–≤–∞—è –ë–î –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç—Å—è.

## üìé –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
üîÑ –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:

```bash
    docker compose exec web alembic upgrade head
```
üìù –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é:

```bash
`docker compose exec web alembic revision --autogenerate -m "your message"`
```
